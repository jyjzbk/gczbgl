# 小学科学实验目录数据结构设计

## 一、数据结构说明

本文档定义了小学科学实验目录的数据结构，支持教师实验申请时自动匹配教学仪器功能。

### 1.1 实验目录基本结构

```json
{
  "experimentId": "string",           // 实验唯一标识
  "sequenceNumber": "integer",        // 序号
  "lessonNumber": "string",           // 课次（如：1-1, 2-3）
  "pageNumber": "integer",            // 页码
  "experimentName": "string",         // 实验名称
  "experimentType": "string",         // 实验类型：分组/演示
  "isRequired": "boolean",            // 是否必做实验
  "subject": "string",                // 学科
  "grade": "string",                  // 年级
  "semester": "string",               // 学期：上册/下册
  "chapter": "string",                // 章节
  "requiredEquipment": [              // 必需教学仪器列表
    {
      "equipmentId": "string",        // 仪器ID
      "equipmentName": "string",      // 仪器名称
      "specification": "string",      // 规格型号
      "standardQuantity": "integer",  // 标准用量
      "unit": "string",               // 单位
      "isEssential": "boolean",       // 是否必需
      "category": "string",           // 仪器分类
      "remark": "string"              // 备注
    }
  ],
  "optionalEquipment": [              // 可选教学仪器列表
    // 结构同requiredEquipment
  ],
  "consumables": [                    // 消耗品列表
    {
      "materialId": "string",         // 材料ID
      "materialName": "string",       // 材料名称
      "standardQuantity": "integer",  // 标准用量
      "unit": "string",               // 单位
      "safetyLevel": "string"         // 安全等级
    }
  ],
  "experimentDescription": "string",   // 实验描述
  "safetyRequirements": "string",     // 安全要求
  "estimatedDuration": "integer",     // 预计时长（分钟）
  "maxStudentCount": "integer",       // 最大学生数
  "createTime": "datetime",
  "updateTime": "datetime"
}
```

## 二、小学三年级上学期科学实验目录

### 2.1 第一单元实验

#### 实验1：水到哪里去了
```json
{
  "experimentId": "SCI_3_1_001",
  "sequenceNumber": 1,
  "lessonNumber": "1-1",
  "pageNumber": 4,
  "experimentName": "水到哪里去了",
  "experimentType": "分组",
  "isRequired": true,
  "subject": "科学",
  "grade": "三年级",
  "semester": "上册",
  "chapter": "第一单元",
  "requiredEquipment": [
    {
      "equipmentId": "EQ_001",
      "equipmentName": "玻璃杯",
      "specification": "250ml",
      "standardQuantity": 2,
      "unit": "个",
      "isEssential": true,
      "category": "玻璃器皿",
      "remark": "透明玻璃杯"
    },
    {
      "equipmentId": "EQ_002",
      "equipmentName": "塑料膜",
      "specification": "保鲜膜",
      "standardQuantity": 1,
      "unit": "卷",
      "isEssential": true,
      "category": "实验材料",
      "remark": "用于覆盖"
    },
    {
      "equipmentId": "EQ_003",
      "equipmentName": "橡皮筋",
      "specification": "中号",
      "standardQuantity": 2,
      "unit": "根",
      "isEssential": true,
      "category": "实验材料",
      "remark": "固定塑料膜"
    }
  ],
  "optionalEquipment": [
    {
      "equipmentId": "EQ_004",
      "equipmentName": "放大镜",
      "specification": "5倍",
      "standardQuantity": 1,
      "unit": "个",
      "isEssential": false,
      "category": "观察工具",
      "remark": "观察水珠"
    }
  ],
  "consumables": [
    {
      "materialId": "MAT_001",
      "materialName": "水",
      "standardQuantity": 200,
      "unit": "ml",
      "safetyLevel": "安全"
    }
  ],
  "experimentDescription": "通过观察水的蒸发现象，了解水的状态变化",
  "safetyRequirements": "注意玻璃器皿的安全使用",
  "estimatedDuration": 40,
  "maxStudentCount": 4
}
```

#### 实验2：测量水温的方法
```json
{
  "experimentId": "SCI_3_1_002",
  "sequenceNumber": 2,
  "lessonNumber": "1-2",
  "pageNumber": 6,
  "experimentName": "测量水温的方法",
  "experimentType": "演示",
  "isRequired": true,
  "subject": "科学",
  "grade": "三年级",
  "semester": "上册",
  "chapter": "第一单元",
  "requiredEquipment": [
    {
      "equipmentId": "EQ_005",
      "equipmentName": "温度计",
      "specification": "0-100℃",
      "standardQuantity": 3,
      "unit": "支",
      "isEssential": true,
      "category": "测量工具",
      "remark": "水银或酒精温度计"
    },
    {
      "equipmentId": "EQ_006",
      "equipmentName": "烧杯",
      "specification": "500ml",
      "standardQuantity": 3,
      "unit": "个",
      "isEssential": true,
      "category": "玻璃器皿",
      "remark": "盛装不同温度的水"
    },
    {
      "equipmentId": "EQ_007",
      "equipmentName": "三脚架",
      "specification": "标准",
      "standardQuantity": 1,
      "unit": "个",
      "isEssential": true,
      "category": "支撑工具",
      "remark": "支撑加热设备"
    },
    {
      "equipmentId": "EQ_008",
      "equipmentName": "酒精灯",
      "specification": "150ml",
      "standardQuantity": 1,
      "unit": "个",
      "isEssential": true,
      "category": "加热工具",
      "remark": "加热水用"
    }
  ],
  "consumables": [
    {
      "materialId": "MAT_002",
      "materialName": "酒精",
      "standardQuantity": 50,
      "unit": "ml",
      "safetyLevel": "易燃"
    },
    {
      "materialId": "MAT_001",
      "materialName": "水",
      "standardQuantity": 1000,
      "unit": "ml",
      "safetyLevel": "安全"
    }
  ],
  "experimentDescription": "学习正确使用温度计测量水温的方法",
  "safetyRequirements": "注意酒精灯使用安全，防止烫伤",
  "estimatedDuration": 45,
  "maxStudentCount": 40
}
```

#### 实验3：水沸腾的过程
```json
{
  "experimentId": "SCI_3_1_003",
  "sequenceNumber": 3,
  "lessonNumber": "1-3",
  "pageNumber": 9,
  "experimentName": "水沸腾的过程",
  "experimentType": "演示",
  "isRequired": true,
  "subject": "科学",
  "grade": "三年级",
  "semester": "上册",
  "chapter": "第一单元",
  "requiredEquipment": [
    {
      "equipmentId": "EQ_009",
      "equipmentName": "试管",
      "specification": "20×200mm",
      "standardQuantity": 2,
      "unit": "支",
      "isEssential": true,
      "category": "玻璃器皿",
      "remark": "观察沸腾现象"
    },
    {
      "equipmentId": "EQ_005",
      "equipmentName": "温度计",
      "specification": "0-100℃",
      "standardQuantity": 1,
      "unit": "支",
      "isEssential": true,
      "category": "测量工具",
      "remark": "测量水温"
    },
    {
      "equipmentId": "EQ_010",
      "equipmentName": "烧杯",
      "specification": "250ml",
      "standardQuantity": 1,
      "unit": "个",
      "isEssential": true,
      "category": "玻璃器皿",
      "remark": "水浴加热"
    },
    {
      "equipmentId": "EQ_011",
      "equipmentName": "铁架台",
      "specification": "标准",
      "standardQuantity": 1,
      "unit": "套",
      "isEssential": true,
      "category": "支撑工具",
      "remark": "固定试管"
    }
  ],
  "experimentDescription": "观察水沸腾时的现象和温度变化",
  "safetyRequirements": "注意高温，防止烫伤，小心玻璃器皿",
  "estimatedDuration": 40,
  "maxStudentCount": 40
}
```

### 2.2 第二单元实验

#### 实验4：感受空气
```json
{
  "experimentId": "SCI_3_2_001",
  "sequenceNumber": 9,
  "lessonNumber": "2-1",
  "pageNumber": 24,
  "experimentName": "感受空气",
  "experimentType": "分组",
  "isRequired": true,
  "subject": "科学",
  "grade": "三年级",
  "semester": "上册",
  "chapter": "第二单元",
  "requiredEquipment": [
    {
      "equipmentId": "EQ_012",
      "equipmentName": "塑料袋",
      "specification": "透明",
      "standardQuantity": 2,
      "unit": "个",
      "isEssential": true,
      "category": "实验材料",
      "remark": "收集空气"
    },
    {
      "equipmentId": "EQ_013",
      "equipmentName": "气球",
      "specification": "标准",
      "standardQuantity": 2,
      "unit": "个",
      "isEssential": true,
      "category": "实验材料",
      "remark": "感受空气压力"
    },
    {
      "equipmentId": "EQ_014",
      "equipmentName": "塑料杯",
      "specification": "透明",
      "standardQuantity": 1,
      "unit": "个",
      "isEssential": true,
      "category": "实验器具",
      "remark": "演示空气存在"
    }
  ],
  "experimentDescription": "通过多种方式感受空气的存在",
  "safetyRequirements": "注意不要过度吹气球，防止破裂",
  "estimatedDuration": 35,
  "maxStudentCount": 4
}
```

## 三、教学仪器标准库

### 3.1 常用教学仪器分类

#### 玻璃器皿类
- 烧杯（50ml, 100ml, 250ml, 500ml, 1000ml）
- 试管（普通、具支、离心）
- 玻璃棒、漏斗、量筒等

#### 测量工具类
- 温度计（水银、酒精、数字式）
- 天平（托盘天平、电子天平）
- 尺子、量杯等

#### 加热工具类
- 酒精灯、电热器
- 三脚架、石棉网
- 试管夹、坩埚钳等

#### 观察工具类
- 放大镜（3倍、5倍、10倍）
- 显微镜（简易、复式）
- 望远镜等

### 3.2 实验申请时的仪器匹配逻辑

```javascript
// 前端实现示例
function getExperimentEquipment(experimentId) {
  // 根据实验ID获取标准仪器配置
  const experiment = getExperimentById(experimentId);
  
  return {
    required: experiment.requiredEquipment,
    optional: experiment.optionalEquipment,
    consumables: experiment.consumables
  };
}

function generateEquipmentForm(equipment) {
  // 生成仪器申请表单
  // 教师可以修改数量，添加额外仪器
}
```

## 四、数据库表结构建议

### 4.1 实验目录表 (experiments)
```sql
CREATE TABLE experiments (
  experiment_id VARCHAR(50) PRIMARY KEY,
  sequence_number INT,
  lesson_number VARCHAR(10),
  page_number INT,
  experiment_name VARCHAR(100),
  experiment_type ENUM('分组', '演示'),
  is_required BOOLEAN,
  subject VARCHAR(20),
  grade VARCHAR(20),
  semester VARCHAR(10),
  chapter VARCHAR(50),
  description TEXT,
  safety_requirements TEXT,
  estimated_duration INT,
  max_student_count INT,
  create_time DATETIME,
  update_time DATETIME
);
```

### 4.2 教学仪器表 (equipment)
```sql
CREATE TABLE equipment (
  equipment_id VARCHAR(50) PRIMARY KEY,
  equipment_name VARCHAR(100),
  specification VARCHAR(100),
  category VARCHAR(50),
  unit VARCHAR(20),
  safety_level VARCHAR(20),
  create_time DATETIME,
  update_time DATETIME
);
```

### 4.3 实验仪器关联表 (experiment_equipment)
```sql
CREATE TABLE experiment_equipment (
  id BIGINT PRIMARY KEY AUTO_INCREMENT,
  experiment_id VARCHAR(50),
  equipment_id VARCHAR(50),
  equipment_type ENUM('required', 'optional', 'consumable'),
  standard_quantity INT,
  is_essential BOOLEAN,
  remark VARCHAR(200),
  FOREIGN KEY (experiment_id) REFERENCES experiments(experiment_id),
  FOREIGN KEY (equipment_id) REFERENCES equipment(equipment_id)
);
```

#### 实验5：空气能占据空间吗
```json
{
  "experimentId": "SCI_3_2_002",
  "sequenceNumber": 10,
  "lessonNumber": "2-2",
  "pageNumber": 26,
  "experimentName": "空气能占据空间吗",
  "experimentType": "演示",
  "isRequired": true,
  "subject": "科学",
  "grade": "三年级",
  "semester": "上册",
  "chapter": "第二单元",
  "requiredEquipment": [
    {
      "equipmentId": "EQ_015",
      "equipmentName": "水槽",
      "specification": "透明塑料",
      "standardQuantity": 1,
      "unit": "个",
      "isEssential": true,
      "category": "实验器具",
      "remark": "盛水用"
    },
    {
      "equipmentId": "EQ_001",
      "equipmentName": "玻璃杯",
      "specification": "250ml",
      "standardQuantity": 1,
      "unit": "个",
      "isEssential": true,
      "category": "玻璃器皿",
      "remark": "倒扣入水"
    },
    {
      "equipmentId": "EQ_016",
      "equipmentName": "纸",
      "specification": "A4纸",
      "standardQuantity": 1,
      "unit": "张",
      "isEssential": true,
      "category": "实验材料",
      "remark": "放入杯中"
    }
  ],
  "consumables": [
    {
      "materialId": "MAT_001",
      "materialName": "水",
      "standardQuantity": 2000,
      "unit": "ml",
      "safetyLevel": "安全"
    }
  ],
  "experimentDescription": "验证空气占据空间的性质",
  "safetyRequirements": "小心玻璃器皿，注意防滑",
  "estimatedDuration": 30,
  "maxStudentCount": 40
}
```

#### 实验6：压缩空气
```json
{
  "experimentId": "SCI_3_2_003",
  "sequenceNumber": 11,
  "lessonNumber": "2-3",
  "pageNumber": 29,
  "experimentName": "压缩空气",
  "experimentType": "分组",
  "isRequired": true,
  "subject": "科学",
  "grade": "三年级",
  "semester": "上册",
  "chapter": "第二单元",
  "requiredEquipment": [
    {
      "equipmentId": "EQ_017",
      "equipmentName": "注射器",
      "specification": "50ml",
      "standardQuantity": 1,
      "unit": "支",
      "isEssential": true,
      "category": "实验器具",
      "remark": "无针头"
    },
    {
      "equipmentId": "EQ_018",
      "equipmentName": "打气筒",
      "specification": "手动",
      "standardQuantity": 1,
      "unit": "个",
      "isEssential": true,
      "category": "实验器具",
      "remark": "压缩空气用"
    },
    {
      "equipmentId": "EQ_013",
      "equipmentName": "气球",
      "specification": "标准",
      "standardQuantity": 2,
      "unit": "个",
      "isEssential": true,
      "category": "实验材料",
      "remark": "观察压缩效果"
    }
  ],
  "experimentDescription": "探究空气的可压缩性",
  "safetyRequirements": "注意注射器使用安全，不要对人",
  "estimatedDuration": 35,
  "maxStudentCount": 4
}
```

## 五、完整教学仪器标准库

### 5.1 基础实验器具类
```json
{
  "category": "基础实验器具",
  "equipment": [
    {
      "equipmentId": "EQ_001",
      "equipmentName": "玻璃杯",
      "specifications": ["100ml", "250ml", "500ml"],
      "unit": "个",
      "category": "玻璃器皿",
      "safetyLevel": "注意防破",
      "commonUse": "盛装液体、观察实验"
    },
    {
      "equipmentId": "EQ_006",
      "equipmentName": "烧杯",
      "specifications": ["50ml", "100ml", "250ml", "500ml", "1000ml"],
      "unit": "个",
      "category": "玻璃器皿",
      "safetyLevel": "注意防破",
      "commonUse": "加热、反应容器"
    },
    {
      "equipmentId": "EQ_009",
      "equipmentName": "试管",
      "specifications": ["15×150mm", "20×200mm", "25×200mm"],
      "unit": "支",
      "category": "玻璃器皿",
      "safetyLevel": "注意防破",
      "commonUse": "小量实验、观察反应"
    },
    {
      "equipmentId": "EQ_019",
      "equipmentName": "量筒",
      "specifications": ["10ml", "25ml", "50ml", "100ml"],
      "unit": "个",
      "category": "玻璃器皿",
      "safetyLevel": "注意防破",
      "commonUse": "精确量取液体"
    }
  ]
}
```

### 5.2 测量工具类
```json
{
  "category": "测量工具",
  "equipment": [
    {
      "equipmentId": "EQ_005",
      "equipmentName": "温度计",
      "specifications": ["水银温度计(-10~110℃)", "酒精温度计(-20~80℃)", "数字温度计"],
      "unit": "支",
      "category": "测量工具",
      "safetyLevel": "小心水银",
      "commonUse": "测量温度"
    },
    {
      "equipmentId": "EQ_020",
      "equipmentName": "天平",
      "specifications": ["托盘天平(500g/0.1g)", "电子天平(200g/0.01g)"],
      "unit": "台",
      "category": "测量工具",
      "safetyLevel": "轻拿轻放",
      "commonUse": "测量质量"
    },
    {
      "equipmentId": "EQ_021",
      "equipmentName": "直尺",
      "specifications": ["15cm", "30cm", "50cm"],
      "unit": "把",
      "category": "测量工具",
      "safetyLevel": "安全",
      "commonUse": "测量长度"
    },
    {
      "equipmentId": "EQ_022",
      "equipmentName": "秒表",
      "specifications": ["机械秒表", "电子秒表"],
      "unit": "个",
      "category": "测量工具",
      "safetyLevel": "安全",
      "commonUse": "测量时间"
    }
  ]
}
```

### 5.3 加热工具类
```json
{
  "category": "加热工具",
  "equipment": [
    {
      "equipmentId": "EQ_008",
      "equipmentName": "酒精灯",
      "specifications": ["150ml", "250ml"],
      "unit": "个",
      "category": "加热工具",
      "safetyLevel": "易燃危险",
      "commonUse": "加热实验"
    },
    {
      "equipmentId": "EQ_007",
      "equipmentName": "三脚架",
      "specifications": ["标准型", "加高型"],
      "unit": "个",
      "category": "支撑工具",
      "safetyLevel": "安全",
      "commonUse": "支撑加热容器"
    },
    {
      "equipmentId": "EQ_023",
      "equipmentName": "石棉网",
      "specifications": ["10×10cm", "15×15cm"],
      "unit": "片",
      "category": "加热辅助",
      "safetyLevel": "注意纤维",
      "commonUse": "均匀受热"
    },
    {
      "equipmentId": "EQ_024",
      "equipmentName": "试管夹",
      "specifications": ["木质", "金属"],
      "unit": "个",
      "category": "夹持工具",
      "safetyLevel": "注意烫伤",
      "commonUse": "夹持试管"
    }
  ]
}
```

### 5.4 观察工具类
```json
{
  "category": "观察工具",
  "equipment": [
    {
      "equipmentId": "EQ_004",
      "equipmentName": "放大镜",
      "specifications": ["3倍", "5倍", "10倍"],
      "unit": "个",
      "category": "观察工具",
      "safetyLevel": "注意镜片",
      "commonUse": "放大观察"
    },
    {
      "equipmentId": "EQ_025",
      "equipmentName": "显微镜",
      "specifications": ["简易显微镜", "学生显微镜", "数码显微镜"],
      "unit": "台",
      "category": "观察工具",
      "safetyLevel": "精密仪器",
      "commonUse": "微观观察"
    },
    {
      "equipmentId": "EQ_026",
      "equipmentName": "望远镜",
      "specifications": ["双筒望远镜", "天文望远镜"],
      "unit": "台",
      "category": "观察工具",
      "safetyLevel": "精密仪器",
      "commonUse": "远距离观察"
    }
  ]
}
```

## 六、实验申请功能实现逻辑

### 6.1 前端实现流程
```javascript
// 1. 教师选择实验
function selectExperiment(experimentId) {
  // 获取实验信息和标准仪器配置
  const experimentData = await getExperimentById(experimentId);

  // 生成仪器申请表单
  generateEquipmentForm(experimentData);
}

// 2. 生成仪器表单
function generateEquipmentForm(experimentData) {
  const form = {
    requiredEquipment: experimentData.requiredEquipment.map(item => ({
      ...item,
      requestedQuantity: item.standardQuantity, // 默认标准数量
      isSelected: true
    })),
    optionalEquipment: experimentData.optionalEquipment.map(item => ({
      ...item,
      requestedQuantity: 0, // 默认不申请
      isSelected: false
    })),
    customEquipment: [] // 自定义添加的仪器
  };

  return form;
}

// 3. 添加自定义仪器
function addCustomEquipment(equipmentName, quantity, unit, remark) {
  const customItem = {
    equipmentId: generateTempId(),
    equipmentName: equipmentName,
    requestedQuantity: quantity,
    unit: unit,
    remark: remark,
    isCustom: true
  };

  // 添加到申请列表
  return customItem;
}
```

### 6.2 后端API设计
```javascript
// 获取实验详情及仪器配置
GET /api/v1/experiments/{experimentId}/equipment

// 提交仪器申请
POST /api/v1/experiments/equipment-requests
{
  "experimentId": "SCI_3_1_001",
  "reservationId": "RES_20250108_001",
  "requestedEquipment": [
    {
      "equipmentId": "EQ_001",
      "requestedQuantity": 3,
      "remark": "需要额外1个备用"
    }
  ],
  "customEquipment": [
    {
      "equipmentName": "彩色笔",
      "requestedQuantity": 5,
      "unit": "支",
      "remark": "标记用"
    }
  ]
}
```

## 七、更多实验示例

### 7.1 根据图片补充的其他实验

#### 实验7：冰融化的原因
```json
{
  "experimentId": "SCI_3_1_004",
  "sequenceNumber": 4,
  "lessonNumber": "1-4",
  "pageNumber": 11,
  "experimentName": "冰融化的原因",
  "experimentType": "分组",
  "isRequired": true,
  "subject": "科学",
  "grade": "三年级",
  "semester": "上册",
  "chapter": "第一单元",
  "requiredEquipment": [
    {
      "equipmentId": "EQ_009",
      "equipmentName": "试管",
      "specification": "20×200mm",
      "standardQuantity": 2,
      "unit": "支",
      "isEssential": true,
      "category": "玻璃器皿",
      "remark": "装冰块"
    },
    {
      "equipmentId": "EQ_024",
      "equipmentName": "试管夹",
      "specification": "木质",
      "standardQuantity": 2,
      "unit": "个",
      "isEssential": true,
      "category": "夹持工具",
      "remark": "夹持试管"
    },
    {
      "equipmentId": "EQ_027",
      "equipmentName": "冰块",
      "specification": "小块",
      "standardQuantity": 10,
      "unit": "块",
      "isEssential": true,
      "category": "实验材料",
      "remark": "观察融化"
    }
  ],
  "experimentDescription": "观察冰在不同条件下的融化过程",
  "safetyRequirements": "注意低温，防止冻伤",
  "estimatedDuration": 30,
  "maxStudentCount": 4
}
```

#### 实验8：水能溶解多少物质
```json
{
  "experimentId": "SCI_3_1_005",
  "sequenceNumber": 5,
  "lessonNumber": "1-5",
  "pageNumber": 14,
  "experimentName": "水能溶解多少物质",
  "experimentType": "分组",
  "isRequired": true,
  "subject": "科学",
  "grade": "三年级",
  "semester": "上册",
  "chapter": "第一单元",
  "requiredEquipment": [
    {
      "equipmentId": "EQ_001",
      "equipmentName": "玻璃杯",
      "specification": "250ml",
      "standardQuantity": 3,
      "unit": "个",
      "isEssential": true,
      "category": "玻璃器皿",
      "remark": "盛装溶液"
    },
    {
      "equipmentId": "EQ_028",
      "equipmentName": "小勺子",
      "specification": "塑料",
      "standardQuantity": 1,
      "unit": "个",
      "isEssential": true,
      "category": "实验工具",
      "remark": "搅拌用"
    },
    {
      "equipmentId": "EQ_029",
      "equipmentName": "食盐",
      "specification": "细盐",
      "standardQuantity": 20,
      "unit": "g",
      "isEssential": true,
      "category": "实验材料",
      "remark": "溶解实验"
    }
  ],
  "consumables": [
    {
      "materialId": "MAT_003",
      "materialName": "食盐",
      "standardQuantity": 20,
      "unit": "g",
      "safetyLevel": "安全"
    },
    {
      "materialId": "MAT_004",
      "materialName": "白糖",
      "standardQuantity": 20,
      "unit": "g",
      "safetyLevel": "安全"
    }
  ],
  "experimentDescription": "探究不同物质在水中的溶解性",
  "safetyRequirements": "不要品尝实验材料",
  "estimatedDuration": 40,
  "maxStudentCount": 4
}
```

#### 实验9：加快溶解
```json
{
  "experimentId": "SCI_3_1_006",
  "sequenceNumber": 6,
  "lessonNumber": "1-6",
  "pageNumber": 16,
  "experimentName": "加快溶解",
  "experimentType": "分组",
  "isRequired": true,
  "subject": "科学",
  "grade": "三年级",
  "semester": "上册",
  "chapter": "第一单元",
  "requiredEquipment": [
    {
      "equipmentId": "EQ_001",
      "equipmentName": "玻璃杯",
      "specification": "250ml",
      "standardQuantity": 4,
      "unit": "个",
      "isEssential": true,
      "category": "玻璃器皿",
      "remark": "对比实验"
    },
    {
      "equipmentId": "EQ_028",
      "equipmentName": "小勺子",
      "specification": "塑料",
      "standardQuantity": 2,
      "unit": "个",
      "isEssential": true,
      "category": "实验工具",
      "remark": "搅拌用"
    },
    {
      "equipmentId": "EQ_030",
      "equipmentName": "搅拌棒",
      "specification": "玻璃",
      "standardQuantity": 2,
      "unit": "根",
      "isEssential": true,
      "category": "实验工具",
      "remark": "搅拌溶液"
    }
  ],
  "experimentDescription": "探究影响溶解速度的因素",
  "safetyRequirements": "注意玻璃器皿安全",
  "estimatedDuration": 35,
  "maxStudentCount": 4
}
```

## 八、数据导入SQL示例

### 8.1 实验目录数据导入
```sql
-- 插入实验目录数据
INSERT INTO experiments VALUES
('SCI_3_1_001', 1, '1-1', 4, '水到哪里去了', '分组', 1, '科学', '三年级', '上册', '第一单元',
 '通过观察水的蒸发现象，了解水的状态变化', '注意玻璃器皿的安全使用', 40, 4, NOW(), NOW()),
('SCI_3_1_002', 2, '1-2', 6, '测量水温的方法', '演示', 1, '科学', '三年级', '上册', '第一单元',
 '学习正确使用温度计测量水温的方法', '注意酒精灯使用安全，防止烫伤', 45, 40, NOW(), NOW()),
('SCI_3_1_003', 3, '1-3', 9, '水沸腾的过程', '演示', 1, '科学', '三年级', '上册', '第一单元',
 '观察水沸腾时的现象和温度变化', '注意高温，防止烫伤，小心玻璃器皿', 40, 40, NOW(), NOW());

-- 插入教学仪器数据
INSERT INTO equipment VALUES
('EQ_001', '玻璃杯', '250ml', '玻璃器皿', '个', '注意防破', NOW(), NOW()),
('EQ_002', '塑料膜', '保鲜膜', '实验材料', '卷', '安全', NOW(), NOW()),
('EQ_003', '橡皮筋', '中号', '实验材料', '根', '安全', NOW(), NOW()),
('EQ_005', '温度计', '0-100℃', '测量工具', '支', '小心水银', NOW(), NOW());

-- 插入实验仪器关联数据
INSERT INTO experiment_equipment VALUES
(NULL, 'SCI_3_1_001', 'EQ_001', 'required', 2, 1, '透明玻璃杯'),
(NULL, 'SCI_3_1_001', 'EQ_002', 'required', 1, 1, '用于覆盖'),
(NULL, 'SCI_3_1_001', 'EQ_003', 'required', 2, 1, '固定塑料膜'),
(NULL, 'SCI_3_1_002', 'EQ_005', 'required', 3, 1, '水银或酒精温度计');
```

### 8.2 批量数据导入脚本
```python
# Python批量导入脚本示例
import json
import mysql.connector

def import_experiment_data(json_file_path):
    """从JSON文件批量导入实验数据"""

    # 连接数据库
    conn = mysql.connector.connect(
        host='localhost',
        user='root',
        password='password',
        database='experiment_platform'
    )
    cursor = conn.cursor()

    # 读取JSON数据
    with open(json_file_path, 'r', encoding='utf-8') as f:
        experiments = json.load(f)

    for exp in experiments:
        # 插入实验基本信息
        exp_sql = """
        INSERT INTO experiments
        (experiment_id, sequence_number, lesson_number, page_number,
         experiment_name, experiment_type, is_required, subject,
         grade, semester, chapter, description, safety_requirements,
         estimated_duration, max_student_count, create_time, update_time)
        VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, NOW(), NOW())
        """

        cursor.execute(exp_sql, (
            exp['experimentId'], exp['sequenceNumber'], exp['lessonNumber'],
            exp['pageNumber'], exp['experimentName'], exp['experimentType'],
            exp['isRequired'], exp['subject'], exp['grade'], exp['semester'],
            exp['chapter'], exp['experimentDescription'], exp['safetyRequirements'],
            exp['estimatedDuration'], exp['maxStudentCount']
        ))

        # 插入仪器关联信息
        for equipment in exp['requiredEquipment']:
            eq_sql = """
            INSERT INTO experiment_equipment
            (experiment_id, equipment_id, equipment_type, standard_quantity,
             is_essential, remark)
            VALUES (%s, %s, 'required', %s, %s, %s)
            """
            cursor.execute(eq_sql, (
                exp['experimentId'], equipment['equipmentId'],
                equipment['standardQuantity'], equipment['isEssential'],
                equipment['remark']
            ))

    conn.commit()
    cursor.close()
    conn.close()
    print("数据导入完成！")

# 使用示例
# import_experiment_data('experiments_data.json')
```

## 九、前端组件设计示例

### 9.1 实验选择组件
```vue
<template>
  <div class="experiment-selector">
    <el-select v-model="selectedExperiment" @change="onExperimentChange" placeholder="请选择实验">
      <el-option
        v-for="exp in experiments"
        :key="exp.experimentId"
        :label="exp.experimentName"
        :value="exp.experimentId">
        <span style="float: left">{{ exp.experimentName }}</span>
        <span style="float: right; color: #8492a6; font-size: 13px">
          {{ exp.experimentType }} | {{ exp.estimatedDuration }}分钟
        </span>
      </el-option>
    </el-select>
  </div>
</template>

<script>
export default {
  data() {
    return {
      selectedExperiment: '',
      experiments: []
    }
  },
  methods: {
    async onExperimentChange(experimentId) {
      // 获取实验详情和仪器配置
      const experimentData = await this.getExperimentEquipment(experimentId);
      this.$emit('experiment-selected', experimentData);
    },

    async getExperimentEquipment(experimentId) {
      const response = await this.$http.get(`/api/v1/experiments/${experimentId}/equipment`);
      return response.data;
    }
  }
}
</script>
```

### 9.2 仪器申请表单组件
```vue
<template>
  <div class="equipment-form">
    <h3>必需仪器</h3>
    <el-table :data="requiredEquipment" border>
      <el-table-column prop="equipmentName" label="仪器名称" width="200"/>
      <el-table-column prop="specification" label="规格" width="150"/>
      <el-table-column prop="standardQuantity" label="标准数量" width="100"/>
      <el-table-column label="申请数量" width="120">
        <template slot-scope="scope">
          <el-input-number
            v-model="scope.row.requestedQuantity"
            :min="0"
            size="small"/>
        </template>
      </el-table-column>
      <el-table-column prop="unit" label="单位" width="80"/>
      <el-table-column label="备注" width="200">
        <template slot-scope="scope">
          <el-input v-model="scope.row.remark" size="small"/>
        </template>
      </el-table-column>
    </el-table>

    <h3>可选仪器</h3>
    <el-table :data="optionalEquipment" border>
      <!-- 类似结构 -->
    </el-table>

    <h3>自定义仪器</h3>
    <el-button @click="addCustomEquipment" type="primary" size="small">
      添加仪器
    </el-button>
    <el-table :data="customEquipment" border>
      <!-- 自定义仪器表格 -->
    </el-table>
  </div>
</template>
```

这个完整的设计方案支持您的所有需求：
1. **自动匹配仪器**：选择实验后自动加载标准仪器配置
2. **数量可调整**：教师可以修改每个仪器的申请数量
3. **自由添加仪器**：支持添加标准配置外的额外仪器
4. **数据结构完整**：包含实验信息、仪器库、关联关系等
5. **易于扩展**：支持添加更多实验和仪器数据

这个设计完全支持您的需求：教师选择实验后自动匹配仪器，可以修改数量，也可以添加自定义仪器。
