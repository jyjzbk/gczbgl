# 前端服务器启动指南

## 🚨 问题原因

您遇到的错误：
```
TypeError: Failed to fetch dynamically imported module: http://localhost:3000/src/views/basic/TextbookVersions.vue
```

这个错误的根本原因是：**前端开发服务器没有运行**！

## ✅ 解决方案

### 第一步：启动前端开发服务器

在项目根目录下打开终端，执行以下命令：

```bash
# 进入前端目录
cd frontend

# 启动开发服务器
npm run dev
```

### 第二步：等待服务器启动

您应该看到类似以下的输出：
```
VITE v7.0.4  ready in 12616 ms

➜  Local:   http://localhost:3000/
➜  Network: use --host to expose
➜  Vue DevTools: Open http://localhost:3000/__devtools__/ as a separate window
```

### 第三步：验证服务器运行

1. 打开浏览器访问：http://localhost:3000/
2. 确保能正常看到登录页面
3. 使用省级管理员账号登录：
   - 用户名：`province_admin_test`
   - 密码：`password`

### 第四步：测试菜单功能

1. 登录成功后，查看左侧菜单
2. 展开"基础数据"菜单
3. 应该能看到：
   - 📚 教材版本管理
   - 📖 章节结构管理
4. 点击这些菜单项，应该能正常跳转

## 🔧 开发环境要求

### 必须同时运行的服务

1. **后端服务器**（Laravel）
   ```bash
   cd backend
   php artisan serve
   # 运行在 http://localhost:8000
   ```

2. **前端开发服务器**（Vite + Vue）
   ```bash
   cd frontend
   npm run dev
   # 运行在 http://localhost:3000
   ```

3. **数据库服务器**（MySQL/MariaDB）
   - 通过 XAMPP 启动
   - 确保 MySQL 服务正在运行

### 服务器状态检查

#### 检查前端服务器
- 访问：http://localhost:3000/
- 应该看到 Vue 应用界面

#### 检查后端服务器
- 访问：http://localhost:8000/api/health（如果有健康检查端点）
- 或者检查 Laravel 欢迎页面

#### 检查数据库连接
```bash
cd backend
php artisan tinker
# 在 tinker 中执行：
DB::connection()->getPdo()
```

## 🚀 启动脚本（推荐）

为了方便开发，您可以创建启动脚本：

### Windows 批处理文件 (start-dev.bat)
```batch
@echo off
echo 启动开发环境...

echo 启动后端服务器...
start cmd /k "cd /d F:\xampp\htdocs\gczbgl\backend && php artisan serve"

echo 等待3秒...
timeout /t 3 /nobreak > nul

echo 启动前端服务器...
start cmd /k "cd /d F:\xampp\htdocs\gczbgl\frontend && npm run dev"

echo 开发环境启动完成！
echo 前端地址: http://localhost:3000
echo 后端地址: http://localhost:8000
pause
```

### PowerShell 脚本 (start-dev.ps1)
```powershell
Write-Host "启动开发环境..." -ForegroundColor Green

# 启动后端服务器
Start-Process powershell -ArgumentList "-NoExit", "-Command", "cd F:\xampp\htdocs\gczbgl\backend; php artisan serve"

# 等待3秒
Start-Sleep -Seconds 3

# 启动前端服务器
Start-Process powershell -ArgumentList "-NoExit", "-Command", "cd F:\xampp\htdocs\gczbgl\frontend; npm run dev"

Write-Host "开发环境启动完成！" -ForegroundColor Green
Write-Host "前端地址: http://localhost:3000" -ForegroundColor Yellow
Write-Host "后端地址: http://localhost:8000" -ForegroundColor Yellow
```

## 📝 常见问题

### Q1: 端口被占用
如果 3000 端口被占用，Vite 会自动选择其他端口（如 3001）。

### Q2: 模块加载失败
确保：
1. 前端服务器正在运行
2. 文件路径正确
3. 没有语法错误

### Q3: API 请求失败
检查：
1. 后端服务器是否运行
2. 数据库连接是否正常
3. 路由配置是否正确

## ✅ 验证清单

在开始测试之前，请确认：

- [ ] XAMPP 中的 MySQL 服务已启动
- [ ] 后端服务器运行在 http://localhost:8000
- [ ] 前端服务器运行在 http://localhost:3000
- [ ] 能够正常登录系统
- [ ] 左侧菜单显示正常

## 🎯 下一步

服务器启动成功后，您就可以：

1. 按照《功能测试清单.md》进行测试
2. 测试教材版本管理功能
3. 测试章节结构管理功能
4. 进行完整的功能验证

---

**重要提醒**：在开发过程中，请始终保持前端和后端服务器同时运行，这样才能确保系统正常工作！
